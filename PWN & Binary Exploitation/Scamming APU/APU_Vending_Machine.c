#include <stdio.h>
#include <stdlib.h>
//PLEASE IGNORE THIS FUNCTION
//IGNORE STARTS --
void flag(int key)
{
    char ch;
    char mes[100];
    mes[0] = 'J';
    mes[1] = 'Y';
    mes[2] = 'D';
    mes[3] = '_';
    mes[4] = 'B';
    mes[5] = 'l';
    mes[6] = '4';
    mes[7] = 'v';
    mes[8] = 'v';
    mes[9] = '3';
    mes[10] = 'm';
    int i;
    for(i = 0; mes[i] != '\0'; ++i){
        ch = mes[i];
        if(ch >= 'a' && ch <= 'z'){
            ch = ch - key;
            if(ch < 'a'){
                ch = ch + 'z' - 'a' + 1;
            }
            mes[i] = ch;
        }
        else if(ch >= 'A' && ch <= 'Z'){
            ch = ch - key;
            if(ch < 'A'){
                ch = ch + 'Z' - 'A' + 1;
            }
            mes[i] = ch;
        }
    }
    printf("%s", mes);
}
//--IGNORE ENDS


int main()
{
	int ori_balance = 4;
	int cupcake_num, new_balance, price;
	
	printf("Welcome to the APU Vending Machine.\nYour APCard has a balance of RM %d.\nPlease enter the amount of muffins that you want to buy (RM5/pc): ", ori_balance);
	
	scanf("%d", &cupcake_num);
	price = cupcake_num * 5;
	new_balance = ori_balance - price;
	
	if (new_balance > 0)
	{
		printf("\n\nYour balance is: RM %d. \n", new_balance);
		printf("Your %d cupcakes are on the way!", cupcake_num);
		printf("\nWow! You managed to scam APU. \nHere is your reward: CTFPrep{");
		flag(9);
		printf("}");
	}
	else
	{
		printf("\nYou do not have enough money. You need to top up at least RM%d. Please top up your APCard.", abs(new_balance));
	}
}